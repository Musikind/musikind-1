{"version":3,"sources":["../../src/pages/play-list/play-list.module.ts","../../src/pages/play-list/play-list.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PlayListPage } from './play-list';\n\n@NgModule({\n  declarations: [\n    PlayListPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PlayListPage),\n  ],\n})\nexport class PlayListPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/play-list/play-list.module.ts","import { Component, Injectable } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { TranslateService, TranslateModule } from '@ngx-translate/core';\nimport { NativePageTransitions, NativeTransitionOptions } from '@ionic-native/native-page-transitions/ngx';\n/**\n * Generated class for the PlayListPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Injectable()\n@Component({\n  selector: 'page-play-list',\n  templateUrl: 'play-list.html',\n})\nexport class PlayListPage {\n  tracks: any;\n  currentTrack: any;\n  activeProgress: any;\n  progressInterval: any;\n  footer:string; \n  constructor(public navCtrl: NavController, public navParams: NavParams, public translate: TranslateService, public translateModule: TranslateModule, private nativePageTransitions: NativePageTransitions) {\n    this.translate.setDefaultLang('en');\n    this.footer = this.translate.instant('PlaylistPage.footer');\n    this.tracks = this.generateTracks();\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad PlayListPage');\n  }\n  \n  generateTracks() {\n    let tracks = [];\n    for (let a = 1; a <= 100; a++) {\n        let min = this.getRandomMinutes(), sec = this.getRandomSecond();\n        let minstr = min < 10 ? \"0\" + min : min, secStr = sec < 10 ? \"0\" + sec : sec;\n\n        let track = {\n            title: `Song Title ${a}`,\n            durationString: `${minstr}:${secStr}`,\n            playing: false,\n            durationSeconds: Math.floor(min * 60 + sec),\n            progress: 0,\n            laps: 0,\n            lapsString: \"0\"\n        };\n        tracks.push(track);\n    }\n    return tracks;\n}\n\nionViewWillLeave(){\n  let options: NativeTransitionOptions = {\n    direction: 'up',\n    duration: 500,\n    slowdownfactor: 3,\n    slidePixels: 20,\n    iosdelay: 100,\n    androiddelay: 150,\n    fixedPixelsTop: 0,\n    fixedPixelsBottom: 60\n   };\n\n   this.nativePageTransitions.slide(options)\n   .then(this.success)\n   .catch(this.success);\n}\n\nsuccess(){\n\n}\n\ngetRandomMinutes() {\n  return Math.floor(Math.random() * 10);\n}\ngetRandomSecond() {\n  return Math.floor(Math.random() * 60);\n}\n\nplayTrack(track: any) {\n  console.log('play track');\n  // First stop any currently playing tracks\n  if (this.currentTrack) {\n      if(track === this.currentTrack){\n          track.playing = true;\n      }else {\n          this.pauseTrack(this.currentTrack);\n          this.currentTrack.progress = 0; \n          this.currentTrack.laps\n\n      }\n     \n      track.playing = true;\n      this.currentTrack = track;\n  }\n  this.currentTrack = track;\n  // Simulate track playing\n  this.progressInterval = setInterval(() => {\n      if (track.laps <= track.durationSeconds + 1 && track.progress <= 100) {\n          track.laps++;\n          track.progress = this.getProgressValue();\n          if(track.laps === track.durationSeconds){\n              this.nextTrack();\n          }\n      } else {\n          clearInterval(this.progressInterval);\n      }\n  }, 1000);\n  // this.audioProgress = setInterval(() => {\n  //     if (track.progress < track.durationSeconds) {\n  //         track.progress++;\n  //     }\n  // }, track.durationSeconds * 1000);\n}\ngetLapsString() {\n  let val1 = this.currentTrack.laps;\n  let min = Math.floor(val1 / 60), sec = val1 % 60;\n  return (min < 10 ? \"0\" + min.toString() : min.toString()) + \" : \" + (sec < 10 ? \"0\" + sec.toString() : sec.toString())\n}\ngetProgressValue(){\n  return Math.round(1 / (this.currentTrack.durationSeconds / 100) * this.currentTrack.laps);\n}\n\npauseTrack(track) {\n  track.playing = false;\n  clearInterval(this.progressInterval);\n\n}\n\nnextTrack() {\n  let index = this.tracks.indexOf(this.currentTrack);\n  index >= this.tracks.length - 1 ? index = 0 : index++;\n  this.playTrack(this.tracks[index]);\n}\n\nprevTrack() {\n  let index = this.tracks.indexOf(this.currentTrack);\n  index > 0 ? index-- : index = this.tracks.length - 1;\n  this.playTrack(this.tracks[index]);\n\n}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/play-list/play-list.ts"],"sourceRoot":""}